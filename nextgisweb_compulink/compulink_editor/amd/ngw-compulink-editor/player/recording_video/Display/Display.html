<div data-dojo-type="${baseClass}"
     data-dojo-attach-point="focusNode"
     style="width: 100%; height: 100%">

    <div data-dojo-attach-point="tabContainer"
         data-dojo-type="dijit/layout/TabContainer"
         data-dojo-props="tabPosition: 'top'"
         style="width: 100%; height: 100%;">

        <!-- Незакрываемый таб для размещения карты и дерева слоев -->
        <!-- Если у таба нет иконки и он незакрываем, то плывет верстка! -->
        <div data-dojo-attach-point="mainPane" title="Карта"
             data-dojo-type="dijit/layout/ContentPane"
             data-dojo-props="closable: false, iconClass: 'iconMap'"
             style="width: 100%; height: 100%; padding: 0">

            <div id="mainContainer"
                 data-dojo-type="dijit/layout/BorderContainer"
                 data-dojo-props="gutters: false"
                 style="width: 100%; height: 100%;">

                <!-- Панель для размещения OL карты -->
                <div id="centerContainer"
                     data-dojo-type="dijit/layout/BorderContainer"
                     data-dojo-props="region: 'center', gutters:false"
                     style="padding: 0;">

                    <!-- Тулбар над картой -->
                    <div data-dojo-attach-point="mapToolbar"
                         data-dojo-type="dijit/Toolbar"
                         data-dojo-props="region: 'top', splitter:false"
                         style="display: none;">

                        <div style="padding: 0 4px; float: right;">

                            <div data-dojo-attach-point="itemMenu"
                                 data-dojo-type="dijit/Menu"
                                 style="display:none">
                            </div>

                            <div data-dojo-attach-point="bookmarkButton"
                                 data-dojo-type="dijit/form/DropDownButton"
                                 data-dojo-props="label: 'Закладки', iconClass: 'dijitIconBookmark'">

                                <div data-dojo-attach-point="bookmarkMenu"
                                     data-dojo-type="dijit/Menu">
                                </div>

                            </div>
                        </div>

                        <!-- Распорка по высоте -->
                        <div data-dojo-type="dijit/form/Button" style="width: 0;">&nbsp;</div>

                        <div data-dojo-attach-point="zoomToInitialExtentButton"
                             data-dojo-type="dijit/form/Button"
                             data-dojo-props="iconClass: 'iconArrowInOut', showLabel: false">
                        </div>

                        <div data-dojo-attach-point="moveToCoordinates"
                             data-dojo-type="dijit/form/DropDownButton"
                             data-dojo-props="iconClass: 'iconMoveTo', showLabel: false, title: 'Перейти к координатам'">

                            <div data-dojo-type="dijit/TooltipDialog">
                                <div data-dojo-type="dojox/layout/TableContainer" data-dojo-props="cols: 1">

                                    <div data-dojo-attach-point="moveToLat"
                                         data-dojo-type="dijit/form/NumberTextBox"
                                         data-dojo-props="constraints: {min: -180, max: +180}, trim: true"
                                         title="Широта, град."
                                         style="width: 100%">
                                    </div>

                                    <div data-dojo-attach-point="moveToLon"
                                         data-dojo-type="dijit/form/NumberTextBox"
                                         data-dojo-props="constraints: {min: -180, max: +180}, trim: true"
                                         title="Долгота, град."
                                         style="width: 100%">
                                    </div>

                                </div>

                                <div data-dojo-attach-point="moveToCoordinatesButton"
                                     data-dojo-type="dijit/form/Button"
                                     data-dojo-props="label: 'OK'">
                                </div>
                            </div>
                        </div>

                        <div data-dojo-type="dijit/ToolbarSeparator"></div>

                        <div data-dojo-attach-point="infoNode"
                             style="display: inline-block; vertical-align: middle; float: right; padding: 0 4px;">

                            <div data-dojo-type="dijit/form/Button" style="width: 0;">&nbsp;</div>

                            <span style="color: #999">Д</span>
                            <span data-dojo-attach-point="centerLonNode"></span>

                            <span style="color: #999">Ш</span>
                            <span data-dojo-attach-point="centerLatNode"></span>

                            <span style="color: #999">М</span>
                            <span data-dojo-attach-point="scaleInfoNode"></span>

                        </div>

                        <div data-dojo-attach-point="printMapButton"
                             data-dojo-attach-event="onClick: printMap"
                             data-dojo-type="dijit/form/Button"
                             data-dojo-props="iconClass: 'iconPrintMap', showLabel: false">
                        </div>

                        <div data-dojo-type="dijit/ToolbarSeparator"></div>

                        <div data-dojo-type="dijit/form/ComboButton"
                             data-dojo-attach-point="basemapSelect">
                             <div data-dojo-type="dijit/DropDownMenu"></div>
                        </div>

                    </div>

                    <div id="mapPane" data-dojo-attach-point="mapPane"
                         data-dojo-type="dijit/layout/ContentPane"
                         data-dojo-props="region: 'center', splitter:false"
                         style="width: 100%; padding: 0; left: 0; right: 0;">
                        <div data-dojo-attach-point="mapNode"
                             style="position: absolute; width: 100%; height: 100%; padding: 0;">

                            <div style="position: absolute; top: 0; right: 0; z-index: 2000; margin: 4px; background-color: rgba(255, 255, 255, 0.5)">
                                <a href="http://nextgis.ru/nextgis-web/" target="_blank"><img
                                        src="${ngwConfig.assetUrl}img/nextgis.png"/></a>
                            </div>
                            <a id="permalink" data-dojo-attach-event="onclick:_getPermalink" href="#"
                               style="position: absolute; bottom: 20px; right: 0; z-index: 2000; margin: 4px; font-size: smaller;">Ссылка</a>

                            <div data-dojo-attach-point="permalinkDialog" data-dojo-type="dijit/Dialog"
                                 data-dojo-props="title: 'Ссылка', autofocus: false, draggable: false"
                                 style="display: none;">
                                <div data-dojo-attach-point="permalinkContent" data-dojo-type="dijit/form/TextBox"
                                     data-dojo-props="readOnly: false, selectOnClick: true" style="width: 300px;"></div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>

    </div>

</div>
